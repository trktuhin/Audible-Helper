<div class="row">
  <div class="col-12 text-center mt-3">
    <h2>
      {{ pagination.totalItems }} reviews found
      <span *ngIf="user">for {{ user.knownAs }} </span>
      <span>
        <a
          [routerLink]="['/reviews/add']"
          title="add reviews"
          routerLinkActive="router-link-active"
          class="btn btn-primary roudedBtn"
        >
          <i class="fa fa-plus-square"></i>
        </a>
      </span>
    </h2>
  </div>
</div>

<div class="container">
  <div class="row justify-content-center">
    <form
      class="form-inline"
      #form="ngForm"
      (ngSubmit)="loadReviews()"
      novalidate
    >
      <div class="form-group">
        <label for="dateFrom"><i class="fa fa-hourglass-start px-1"></i></label>
        <input
          autocomplete="off"
          type="text"
          class="form-control ml-1"
          [(ngModel)]="dateFrom"
          bsDatepicker
          [bsConfig]="bsConfig"
          style="width: 150px"
          id="dateFrom"
          name="dateFrom"
        />
      </div>

      <div class="form-group ml-1">
        <label for="dateTo"><i class="fa fa-hourglass-end px-1"></i></label>
        <input
          autocomplete="off"
          type="text"
          class="form-control ml-1"
          [(ngModel)]="dateTo"
          bsDatepicker
          [bsConfig]="bsConfig"
          style="width: 150px"
          id="dateTo"
          name="dateTo"
        />
      </div>

      <div class="form-group ml-1">
        <label for="country"><i class="fa fa-flag px-1"></i></label>
        <select
          class="form-control ml-1"
          style="width: 100px"
          [(ngModel)]="country"
          id="country"
          name="country"
        >
          <option *ngFor="let country of countryList" [value]="country.value">
            {{ country.display }}
          </option>
        </select>
      </div>

      <div class="form-group ml-1">
        <label for="bookAsin"><i class="fa fa-list-ol px-1"></i></label>
        <input
          type="text"
          class="form-control ml-1"
          style="width: 150px"
          [(ngModel)]="bookAsin"
          placeholder="Book Asin"
          id="bookAsin"
          name="bookAsin"
        />
      </div>

      <div class="form-group ml-1">
        <label for="penName"><i class="fa fa-address-book px-1"></i></label>
        <input
          type="text"
          class="form-control ml-1"
          style="width: 150px"
          [(ngModel)]="penName"
          placeholder="Pen name"
          id="penName"
          name="penName"
        />
      </div>
      <button type="submit" class="btn btn-info" style="margin-left:10px">
        <i class="fa fa-search-minus"></i>
      </button>
    </form>
  </div>
  <br />
  <div class="row">
    <table class="table">
      <tr>
        <th style="width: 15%">Pen Name</th>
        <th style="width: 50%">Review Title</th>
        <th style="width: 10%">Date</th>
        <th style="width: 10%">Book Asin</th>
        <th style="width: 10%">Country</th>
        <th style="width: 5%">Delete</th>
      </tr>
      <tr *ngFor="let review of reviews">
        <td>{{ review.penName }}</td>
        <td>{{ review.reviewTitle }}</td>
        <td>{{ review.reviewDate | date: "mediumDate" }}</td>
        <td>{{ review.bookAsin }}</td>
        <td>{{ review.country | uppercase }}</td>
        <td>
          <button
            (click)="deleteReview(review)"
            class="btn  btn-outline-danger"
          >
            <i class="fa fa-trash"></i>
          </button>
        </td>
      </tr>
    </table>
  </div>
</div>

<div class="d-flex justify-content-center">
  <pagination
    [boundaryLinks]="true"
    [totalItems]="pagination.totalItems"
    [(ngModel)]="pagination.currentPage"
    [itemsPerPage]="pagination.itemsPerPage"
    (pageChanged)="pageChanged($event)"
    previousText="&lsaquo;"
    nextText="&rsaquo;"
    firstText="&laquo;"
    lastText="&raquo;"
    [maxSize]="5"
    [rotate]="false"
  ></pagination>
</div>
